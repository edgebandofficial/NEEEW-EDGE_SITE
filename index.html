<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EDGE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
      body { margin: 0; font-family: "Inter", sans-serif; background-color: #0a0a0a; color: #f3f3f3; }
      header { position: sticky; top: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); border-bottom: 1px solid #222; padding: 12px 24px; display: flex; align-items: center; justify-content: space-between; }
      header img { height: 42px; width: auto; }
      header nav a { color: #f3f3f3; text-decoration: none; margin-left: 24px; opacity: 0.8; font-size: 0.9rem; }
      header nav a:hover { opacity: 1; }
      .hero { background: url("/assets/uploads/hero.jpg") center/cover no-repeat; height: 100vh; display: flex; align-items: center; justify-content: center; flex-direction: column; text-align: center; position: relative; }
      .hero::after { content: ""; position: absolute; inset: 0; background: rgba(0,0,0,0.5); }
      .hero-content { position: relative; z-index: 1; }
      .hero img { width: 320px; max-width: 80%; }
      .buttons { margin-top: 32px; }
      .btn { display: inline-block; background: #f3f3f3; color: #0a0a0a; padding: 12px 28px; margin: 0 8px; border-radius: 999px; text-decoration: none; font-weight: 600; transition: 0.2s ease; }
      .btn:hover { background: transparent; color: #f3f3f3; border: 1px solid #f3f3f3; }
      footer { text-align: center; border-top: 1px solid #222; padding: 40px 0; font-size: 0.8rem; opacity: 0.8; }
      section { padding: 80px 24px; max-width: 1100px; margin: 0 auto; }
      h2 { font-family: "Bebas Neue", sans-serif; letter-spacing: .02em; font-size: 2.2rem; margin: 0 0 16px; }
      .card { border: 1px solid rgba(255,255,255,.12); background: rgba(20,20,20,.85); padding: 16px; border-radius: 14px; margin-bottom: 12px; }
    </style>
  </head>
  <body>
    <header>
      <a href="#top"><img src="/assets/uploads/logo-white.png" alt="EDGE Logo"></a>
      <nav>
        <a href="#music">Music</a>
        <a href="#shows">Shows</a>
        <a href="/blog/">Blog</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>

    <section id="top" class="hero">
      <div class="hero-content">
        <img src="/assets/uploads/logo-white.png" alt="EDGE Logo">
        <div class="buttons">
          <a href="#music" class="btn">Listen</a>
          <a href="#join" class="btn">Join Mailing List</a>
        </div>
      </div>
    </section>

    <section id="music">
      <h2>New Music</h2>
      <div id="tracks"></div>
    </section>

    <section id="shows">
      <h2>Upcoming Shows</h2>
      <div id="showsList"></div>
    </section>

    <section id="join">
      <h2>Join the Mailing List</h2>
      <p>No spam. Real updates, gigs, and first listens.</p>
      <p><a class="btn" id="mlLink" href="#" target="_blank" rel="noopener">Open Sign‑up Form</a></p>
    </section>

    <section id="contact">
      <h2>Contact</h2>
      <div class="card">
        <p>For booking, press, or collaboration:</p>
        <p><a id="contactEmail" href="mailto:bookings@edgebandofficial.com" class="btn">Email Us</a></p>
      </div>
    </section>

    <footer>
      <p>© <span id="year"></span> EDGE. All rights reserved.</p>
    </footer>

    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
      async function loadJSON(path){try{const r=await fetch(path);return await r.json()}catch(e){return null}}

      // Music
      loadJSON('/content/music.json').then(data=>{
        const wrap=document.getElementById('tracks'); if(!data||!data.tracks){wrap.innerHTML='';return}
        data.tracks.forEach(t=>{
          const a=document.createElement('a'); a.href=t.url; a.target='_blank'; a.rel='noopener';
          a.className='card'; a.innerHTML=`<strong>${t.title}</strong><div style="opacity:.7;font-size:.9rem">${t.platform}</div>`; wrap.appendChild(a);
        })
      });

      // Shows
      loadJSON('/content/shows.json').then(data=>{
        const wrap=document.getElementById('showsList'); if(!data||!data.shows||!data.shows.length){
          wrap.innerHTML='<div class="card"><strong>Live dates coming soon.</strong><div style="opacity:.7">Join the mailing list to hear first.</div></div>'; return;
        }
        data.shows.forEach(s=>{
          const div=document.createElement('div'); div.className='card';
          const tBtn = s.tickets ? `<a class="btn" href="${s.tickets}" target="_blank" rel="noopener">Tickets</a>` : '';
          div.innerHTML = `<div style="display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap">
            <div><strong>${s.venue}</strong><div style="opacity:.7">${s.city}</div></div>
            <div style="opacity:.8">${s.date||''}</div>${tBtn}</div>`;
          wrap.appendChild(div);
        });
      });

      // Settings
      loadJSON('/content/settings.json').then(s=>{
        if(s){
          if(s.mailingListUrl){ document.getElementById('mlLink').href = s.mailingListUrl; }
          if(s.contactEmail){ const a=document.getElementById('contactEmail'); a.href='mailto:'+s.contactEmail; a.textContent=s.contactEmail; }
        }
      });
    </script>
  </body>
</html>
